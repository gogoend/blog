<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script type="module">
        import {
            observe
        } from './observer/index.js'
        import Watcher from './observer/watcher.js'
        const app = {
            a: 1,
            b: 2,
            c: {
                d: 3,
                e: {
                    f: 4,
                    g: 5,
                    h: {
                        i: 6,
                        j: 7
                    }
                },
                k: {
                    l: 8,
                    m: {
                        n: 9,
                        o: {
                            p: 10
                        }
                    },
                    q: 11,
                },
                r: 12,
                s: 13,
                get t(){
                    return this.r+this.s
                }
            },
            u: 15
        }
        function init() {
            observe(app)
            new Watcher(app, () => {
                console.log(app.c+app.u)
            })
            new Watcher(app, () => {
                console.error(app.u)
            })
            window.app = app
        }
        init()
    </script>
</body>

</html>