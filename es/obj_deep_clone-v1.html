<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        let arr1 = [15, 16]
        arr1.push(arr1)
        var obj = {
            a: 1,
            b: [2,arr1],
            c: {
                d: 4,
                e: {
                    f: 5,
                    g: [6, 7, 8, [
                        9, 10, 11, 12, [
                            13, 14, arr1,
                            {
                                h: 17,
                                i: [
                                    18, new Date,arr1
                                ]
                            }
                        ],
                        {
                            j: 20
                        }
                    ]],
                    k: {
                        l: 21,
                        m: 22,arr1
                    }
                }
            },
            n: new Date,
            o: [24,arr1, 25, 26],
            p: [27, 28, 29,
                [30, 31, 32, [/[0-9]/], 33]],
            r: null,
            s: undefined,
            t: [NaN, null, undefined, NaN, 0, {
                u: undefined,
                v: null
            }],
            w: 34,
            x: [35, 36, [37], [38]],
            y: 39,
            z: [undefined, null, function () { }, 40]
        }

        let map = new Map()
        function deepClone(o) {
            if (map.has(o)) {
                return map.get(o)
            }
            let newO = o instanceof Array ? [] : {}

            map.set(o, newO)

            for (let key in o) {
                if (o[key] instanceof Date || o[key] instanceof RegExp) {
                    newO[key] = new o[key].__proto__.constructor(o[key])
                } else if (o[key] instanceof Object) {
                    newO[key] = deepClone(o[key])
                } else {
                    newO[key] = o[key]
                }
            }
            return newO
        }

        var zzz = deepClone(obj)
    </script>
</body>

</html>